<template>
  <nav class="menu">
    <div class="menu__wrapper">
      <RouterLink class="menu__logo" to="/">
        <svg width="185" height="21" viewBox="0 0 185 21" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.36696 20.3H0.579956V19.198C0.908623 19.024 1.28562 18.8597 1.71096 18.705C2.15562 18.5503 2.57129 18.4343 2.95796 18.357V1.943C2.49396 1.86567 2.04929 1.74967 1.62396 1.595C1.19862 1.44033 0.850623 1.276 0.579956 1.102V0H9.36696V1.102C9.07696 1.29533 8.74829 1.46933 8.38096 1.624C8.03296 1.77867 7.67529 1.885 7.30796 1.943V8.961H14.993V1.943C14.5676 1.86567 14.181 1.74967 13.833 1.595C13.5043 1.44033 13.2046 1.276 12.934 1.102V0H21.721V1.102C21.3923 1.31467 21.0153 1.48867 20.59 1.624C20.1646 1.75933 19.749 1.86567 19.343 1.943V18.357C19.7876 18.4343 20.213 18.5503 20.619 18.705C21.0443 18.8597 21.4116 19.024 21.721 19.198V20.3H12.934V19.198C13.224 19.024 13.543 18.8597 13.891 18.705C14.239 18.5503 14.6063 18.4343 14.993 18.357V10.846H7.30796V18.357C7.69462 18.4343 8.05229 18.5407 8.38096 18.676C8.70962 18.8113 9.03829 18.9853 9.36696 19.198V20.3Z" fill="white" />
          <path d="M35.918 16.095C35.918 16.5203 35.918 16.8877 35.918 17.197C35.9374 17.5063 35.9664 17.835 36.005 18.183L38.006 18.473V19.488C37.774 19.604 37.455 19.72 37.049 19.836C36.6624 19.952 36.2467 20.068 35.802 20.184C35.3767 20.2807 34.9514 20.358 34.526 20.416C34.1007 20.4933 33.7237 20.5513 33.395 20.59H32.409C32.2157 20.1453 32.0997 19.7007 32.061 19.256C32.0224 18.8113 31.9934 18.27 31.974 17.632H31.829C31.7324 18.0187 31.568 18.3957 31.336 18.763C31.104 19.111 30.8044 19.43 30.437 19.72C30.089 19.9907 29.6734 20.213 29.19 20.387C28.7067 20.561 28.1654 20.648 27.566 20.648C26.928 20.648 26.3384 20.5513 25.797 20.358C25.2557 20.1647 24.782 19.894 24.376 19.546C23.97 19.198 23.651 18.7823 23.419 18.299C23.187 17.7963 23.071 17.2357 23.071 16.617C23.071 15.747 23.2354 15.0317 23.564 14.471C23.8927 13.9103 24.405 13.456 25.101 13.108C25.8164 12.7407 26.725 12.47 27.827 12.296C28.9484 12.122 30.3017 11.9963 31.887 11.919C32.0417 10.2563 31.974 9.03833 31.684 8.265C31.394 7.49167 30.7657 7.105 29.799 7.105C29.1997 7.105 28.6487 7.20167 28.146 7.395L26.783 10.875H25.507C25.3524 10.643 25.1977 10.382 25.043 10.092C24.9077 9.78267 24.7724 9.46367 24.637 9.135C24.521 8.787 24.4147 8.439 24.318 8.091C24.2407 7.743 24.1827 7.40467 24.144 7.076C24.8787 6.57333 25.826 6.177 26.986 5.887C28.146 5.597 29.3737 5.452 30.669 5.452C31.771 5.452 32.67 5.57767 33.366 5.829C34.062 6.061 34.6034 6.38967 34.99 6.815C35.396 7.221 35.6764 7.70433 35.831 8.265C35.9857 8.82567 36.063 9.425 36.063 10.063C36.063 11.223 36.034 12.2767 35.976 13.224C35.9374 14.152 35.918 15.109 35.918 16.095ZM29.393 18.328C29.799 18.328 30.147 18.2507 30.437 18.096C30.727 17.9413 30.9687 17.7577 31.162 17.545C31.3747 17.3323 31.5294 17.1003 31.626 16.849C31.742 16.5977 31.829 16.3753 31.887 16.182V13.282C30.9784 13.3013 30.234 13.3593 29.654 13.456C29.074 13.5527 28.6197 13.717 28.291 13.949C27.9624 14.1617 27.7304 14.442 27.595 14.79C27.479 15.1187 27.421 15.5247 27.421 16.008C27.421 16.7427 27.595 17.313 27.943 17.719C28.291 18.125 28.7744 18.328 29.393 18.328Z" fill="white" />
          <path d="M57.6576 18.647V7.627C57.1743 7.49167 56.7393 7.25967 56.3526 6.931V5.8H63.7476V6.931C63.477 7.08567 63.187 7.221 62.8776 7.337C62.5683 7.453 62.2203 7.54967 61.8336 7.627V18.473C62.549 18.6277 63.187 18.8597 63.7476 19.169V20.3H39.2716V19.169C39.813 18.8597 40.451 18.6277 41.1856 18.473V7.627C40.857 7.58833 40.538 7.52067 40.2286 7.424C39.9193 7.308 39.6003 7.14367 39.2716 6.931V5.8H46.6666V6.931C46.2993 7.24033 45.8643 7.47233 45.3616 7.627V18.647H49.4216V7.627C49.151 7.53033 48.89 7.43367 48.6386 7.337C48.3873 7.221 48.1553 7.08567 47.9426 6.931V5.8H54.9026V6.931C54.7673 7.06633 54.5933 7.192 54.3806 7.308C54.168 7.424 53.907 7.53033 53.5976 7.627V18.647H57.6576Z" fill="white" />
          <path d="M78.2286 16.095C78.2286 16.5203 78.2286 16.8877 78.2286 17.197C78.2479 17.5063 78.2769 17.835 78.3156 18.183L80.3166 18.473V19.488C80.0846 19.604 79.7656 19.72 79.3596 19.836C78.9729 19.952 78.5573 20.068 78.1126 20.184C77.6873 20.2807 77.2619 20.358 76.8366 20.416C76.4113 20.4933 76.0343 20.5513 75.7056 20.59H74.7196C74.5263 20.1453 74.4103 19.7007 74.3716 19.256C74.3329 18.8113 74.3039 18.27 74.2846 17.632H74.1396C74.0429 18.0187 73.8786 18.3957 73.6466 18.763C73.4146 19.111 73.1149 19.43 72.7476 19.72C72.3996 19.9907 71.9839 20.213 71.5006 20.387C71.0173 20.561 70.4759 20.648 69.8766 20.648C69.2386 20.648 68.6489 20.5513 68.1076 20.358C67.5663 20.1647 67.0926 19.894 66.6866 19.546C66.2806 19.198 65.9616 18.7823 65.7296 18.299C65.4976 17.7963 65.3816 17.2357 65.3816 16.617C65.3816 15.747 65.5459 15.0317 65.8746 14.471C66.2033 13.9103 66.7156 13.456 67.4116 13.108C68.1269 12.7407 69.0356 12.47 70.1376 12.296C71.2589 12.122 72.6123 11.9963 74.1976 11.919C74.3523 10.2563 74.2846 9.03833 73.9946 8.265C73.7046 7.49167 73.0763 7.105 72.1096 7.105C71.5103 7.105 70.9593 7.20167 70.4566 7.395L69.0936 10.875H67.8176C67.6629 10.643 67.5083 10.382 67.3536 10.092C67.2183 9.78267 67.0829 9.46367 66.9476 9.135C66.8316 8.787 66.7253 8.439 66.6286 8.091C66.5513 7.743 66.4933 7.40467 66.4546 7.076C67.1893 6.57333 68.1366 6.177 69.2966 5.887C70.4566 5.597 71.6843 5.452 72.9796 5.452C74.0816 5.452 74.9806 5.57767 75.6766 5.829C76.3726 6.061 76.9139 6.38967 77.3006 6.815C77.7066 7.221 77.9869 7.70433 78.1416 8.265C78.2963 8.82567 78.3736 9.425 78.3736 10.063C78.3736 11.223 78.3446 12.2767 78.2866 13.224C78.2479 14.152 78.2286 15.109 78.2286 16.095ZM71.7036 18.328C72.1096 18.328 72.4576 18.2507 72.7476 18.096C73.0376 17.9413 73.2793 17.7577 73.4726 17.545C73.6853 17.3323 73.8399 17.1003 73.9366 16.849C74.0526 16.5977 74.1396 16.3753 74.1976 16.182V13.282C73.2889 13.3013 72.5446 13.3593 71.9646 13.456C71.3846 13.5527 70.9303 13.717 70.6016 13.949C70.2729 14.1617 70.0409 14.442 69.9056 14.79C69.7896 15.1187 69.7316 15.5247 69.7316 16.008C69.7316 16.7427 69.9056 17.313 70.2536 17.719C70.6016 18.125 71.0849 18.328 71.7036 18.328Z" fill="white" />
          <path d="M99.4036 0H106.915V1.102C106.702 1.25667 106.46 1.41133 106.19 1.566C105.938 1.72067 105.658 1.84633 105.349 1.943V18.415H110.772V1.943C110.211 1.80767 109.66 1.52733 109.119 1.102V0H117.152V1.102C116.552 1.48867 115.876 1.769 115.122 1.943V18.357C115.508 18.4537 115.866 18.5793 116.195 18.734C116.543 18.8693 116.862 19.024 117.152 19.198V20.3H89.1376V19.198C89.4469 19.024 89.7852 18.8597 90.1526 18.705C90.5199 18.5503 90.8776 18.4343 91.2256 18.357V1.943C90.4522 1.78833 89.7562 1.508 89.1376 1.102V0H97.1416V1.102C96.9869 1.218 96.7646 1.363 96.4746 1.537C96.2039 1.69167 95.9042 1.827 95.5756 1.943V18.415H100.999V1.943C100.341 1.73033 99.8096 1.45 99.4036 1.102V0Z" fill="white" />
          <path d="M127.645 5.8H134.286V6.931C134.093 7.08567 133.851 7.221 133.561 7.337C133.291 7.43367 132.923 7.55933 132.459 7.714C131.802 8.50667 131.125 9.27033 130.429 10.005C129.733 10.7203 129.057 11.3873 128.399 12.006C128.825 12.47 129.26 12.9727 129.704 13.514C130.149 14.0553 130.584 14.616 131.009 15.196C131.454 15.7567 131.899 16.3173 132.343 16.878C132.807 17.4387 133.271 17.9703 133.735 18.473L134.953 19.169V20.3H130.4L129.472 19.633C128.641 18.6277 127.955 17.6223 127.413 16.617C126.891 15.6117 126.36 14.616 125.818 13.63H124.658V18.473C125.277 18.647 125.818 18.879 126.282 19.169V20.3H118.568V19.169C119.09 18.8597 119.728 18.6277 120.482 18.473V7.627C119.806 7.49167 119.168 7.25967 118.568 6.931V5.8H125.963V6.931C125.77 7.06633 125.577 7.192 125.383 7.308C125.209 7.424 124.968 7.53033 124.658 7.627V12.354L125.992 12.064C126.553 11.426 127.114 10.7397 127.674 10.005C128.235 9.27033 128.747 8.50667 129.211 7.714C128.883 7.57867 128.602 7.453 128.37 7.337C128.138 7.221 127.897 7.08567 127.645 6.931V5.8Z" fill="white" />
          <path d="M135.845 13.05C135.845 11.8707 136.019 10.817 136.367 9.889C136.735 8.94167 137.247 8.13933 137.904 7.482C138.581 6.82467 139.393 6.322 140.34 5.974C141.288 5.626 142.361 5.452 143.559 5.452C144.913 5.452 146.073 5.64533 147.039 6.032C148.025 6.39933 148.828 6.92133 149.446 7.598C150.084 8.25533 150.548 9.05767 150.838 10.005C151.128 10.933 151.273 11.948 151.273 13.05C151.273 14.2293 151.099 15.2927 150.751 16.24C150.403 17.168 149.891 17.9607 149.214 18.618C148.557 19.2753 147.745 19.778 146.778 20.126C145.831 20.474 144.758 20.648 143.559 20.648C142.245 20.648 141.104 20.4643 140.137 20.097C139.171 19.7103 138.368 19.1883 137.73 18.531C137.092 17.8543 136.619 17.052 136.309 16.124C136 15.1767 135.845 14.152 135.845 13.05ZM140.34 13.05C140.34 13.92 140.389 14.7223 140.485 15.457C140.601 16.1723 140.795 16.7813 141.065 17.284C141.336 17.7867 141.703 18.183 142.167 18.473C142.631 18.7437 143.231 18.879 143.965 18.879C144.391 18.879 144.777 18.7823 145.125 18.589C145.473 18.3763 145.773 18.0477 146.024 17.603C146.276 17.139 146.459 16.5397 146.575 15.805C146.711 15.051 146.778 14.1327 146.778 13.05C146.778 12.1607 146.72 11.3583 146.604 10.643C146.508 9.92767 146.324 9.31867 146.053 8.816C145.802 8.31333 145.454 7.92667 145.009 7.656C144.565 7.366 144.004 7.221 143.327 7.221C142.825 7.221 142.39 7.32733 142.022 7.54C141.655 7.73333 141.346 8.062 141.094 8.526C140.843 8.97067 140.65 9.57 140.514 10.324C140.398 11.0587 140.34 11.9673 140.34 13.05Z" fill="white" />
          <path d="M155.616 17.023C156.099 16.1143 156.457 14.848 156.689 13.224C156.921 11.5807 157.047 9.81167 157.066 7.917C156.679 7.801 156.302 7.656 155.935 7.482C155.587 7.308 155.278 7.12433 155.007 6.931V5.8H168.434V6.931C167.815 7.279 167.177 7.511 166.52 7.627V18.473C166.926 18.5697 167.284 18.676 167.593 18.792C167.902 18.908 168.183 19.0337 168.434 19.169V20.3H160.749V19.169C160.981 19.0143 161.213 18.879 161.445 18.763C161.696 18.647 161.996 18.5503 162.344 18.473V7.453H159.154C159.135 8.47767 159.077 9.55067 158.98 10.672C158.883 11.774 158.729 12.8567 158.516 13.92C158.323 14.9833 158.062 15.9887 157.733 16.936C157.404 17.864 157.008 18.6567 156.544 19.314C156.157 19.8553 155.732 20.242 155.268 20.474C154.804 20.706 154.388 20.7833 154.021 20.706C153.77 20.5707 153.538 20.358 153.325 20.068C153.112 19.7587 152.929 19.4397 152.774 19.111C152.619 18.7823 152.494 18.4537 152.397 18.125C152.3 17.7963 152.242 17.516 152.223 17.284L152.89 16.298L155.616 17.023Z" fill="white" />
          <path d="M182.9 16.095C182.9 16.5203 182.9 16.8877 182.9 17.197C182.92 17.5063 182.949 17.835 182.987 18.183L184.988 18.473V19.488C184.756 19.604 184.437 19.72 184.031 19.836C183.645 19.952 183.229 20.068 182.784 20.184C182.359 20.2807 181.934 20.358 181.508 20.416C181.083 20.4933 180.706 20.5513 180.377 20.59H179.391C179.198 20.1453 179.082 19.7007 179.043 19.256C179.005 18.8113 178.976 18.27 178.956 17.632H178.811C178.715 18.0187 178.55 18.3957 178.318 18.763C178.086 19.111 177.787 19.43 177.419 19.72C177.071 19.9907 176.656 20.213 176.172 20.387C175.689 20.561 175.148 20.648 174.548 20.648C173.91 20.648 173.321 20.5513 172.779 20.358C172.238 20.1647 171.764 19.894 171.358 19.546C170.952 19.198 170.633 18.7823 170.401 18.299C170.169 17.7963 170.053 17.2357 170.053 16.617C170.053 15.747 170.218 15.0317 170.546 14.471C170.875 13.9103 171.387 13.456 172.083 13.108C172.799 12.7407 173.707 12.47 174.809 12.296C175.931 12.122 177.284 11.9963 178.869 11.919C179.024 10.2563 178.956 9.03833 178.666 8.265C178.376 7.49167 177.748 7.105 176.781 7.105C176.182 7.105 175.631 7.20167 175.128 7.395L173.765 10.875H172.489C172.335 10.643 172.18 10.382 172.025 10.092C171.89 9.78267 171.755 9.46367 171.619 9.135C171.503 8.787 171.397 8.439 171.3 8.091C171.223 7.743 171.165 7.40467 171.126 7.076C171.861 6.57333 172.808 6.177 173.968 5.887C175.128 5.597 176.356 5.452 177.651 5.452C178.753 5.452 179.652 5.57767 180.348 5.829C181.044 6.061 181.586 6.38967 181.972 6.815C182.378 7.221 182.659 7.70433 182.813 8.265C182.968 8.82567 183.045 9.425 183.045 10.063C183.045 11.223 183.016 12.2767 182.958 13.224C182.92 14.152 182.9 15.109 182.9 16.095ZM176.375 18.328C176.781 18.328 177.129 18.2507 177.419 18.096C177.709 17.9413 177.951 17.7577 178.144 17.545C178.357 17.3323 178.512 17.1003 178.608 16.849C178.724 16.5977 178.811 16.3753 178.869 16.182V13.282C177.961 13.3013 177.216 13.3593 176.636 13.456C176.056 13.5527 175.602 13.717 175.273 13.949C174.945 14.1617 174.713 14.442 174.577 14.79C174.461 15.1187 174.403 15.5247 174.403 16.008C174.403 16.7427 174.577 17.313 174.925 17.719C175.273 18.125 175.757 18.328 176.375 18.328Z" fill="white" />
        </svg>
      </RouterLink>
      <ul class="navigate">
        <li class="navigate__item">
          <RouterLink class="navigate__link" to="/">Учащимся</RouterLink>
        </li>
        <li class="navigate__item">
          <RouterLink class="navigate__link" to="/">Преподавателям</RouterLink>
        </li>
        <li class="navigate__item">
          <RouterLink class="navigate__link" to="/">Родителям</RouterLink>
        </li>
        <li class="navigate__item">
          <RouterLink class="navigate__link" to="/">Посетителям</RouterLink>
        </li>
        <li class="navigate__item navigate__item--change_mode">
          <RouterLink class="navigate__link" :to="user?'profile':'login'">
            <img v-if="user" :src="user.users_image" alt="User image" class="navigate__avatar">
            {{user?user.name.split(' ')[0]+' '+user.name.split(' ')[1][0]+'.':'Авторизоваться'}}
          </RouterLink>
        </li>
      </ul>
      <button class="menu__open" @click="openMenu()">
        <img v-if="!statusMenu" src="@/assets/icons/burger.svg" alt="Menu button for open" class="menu__icon">
        <img v-if="statusMenu" src="@/assets/icons/close.svg" alt="Menu button for close" class="menu__icon">
      </button>
    </div>
  </nav>
</template>

<script>
import { RouterLink } from 'vue-router';
import { assets } from '@/main.js';

export default {
  emits: ['showSubmenu'],
  props: {
    user: {
      type: Object,
      require: true,
      default: NaN,
    },
  },
  data() {
    return {
      statusMenu: false,
    };
  },
  methods: {
    openMenu() {
      this.statusMenu = !this.statusMenu;
      this.$emit('showSubmenu');
    },
  },
};
</script>

<style lang="scss">
  .menu {
    background: linear-gradient(180deg, #1C52A2 0%, #0F479A 100%);
    background-color: #1C52A2;
    box-shadow: inset 0 -2px 4px rgb(0 0 0 / 10%);
  }

  .menu__wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 38px;
    max-width: 1400px;
    min-height: 54px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .menu__logo {
    height: 21px;
  }

  .navigate {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 26px;
    list-style: none;

    @media screen and (width <= $media-tablet) {
      display: none;
    }
  }

  .navigate__avatar {
    object-fit: cover;
    width: 36px;
    height: 36px;
    border-radius: 50%;
  }

  .navigate__item {
    display: flex;
    line-height: 1;
    text-align: center;

    &--change_mode {
      align-items: center;
      height: 54px;
      padding: 2px 14px;
      background-color: #072655;
    }
  }

  .navigate__link {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #FFFFFF;
    font-size: 1rem;
    text-decoration: none;
  }

  .menu__icon {
    place-self: center;
    height: 14px;
  }

  .menu__open {
    display: none;
    justify-content: center;
    align-items: center;
    gap: 6px;
    width: 34px;
    height: 34px;
    color: #FFFFFF;
    font-size: 1rem;
    background: none;
    border: 1px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    transition: all 100ms ease-in-out;

    &:hover {
      border: 1px solid #FFFFFF;
    }

    &:active {
      background-color: #072655;
      border: 1px solid #ffffff99;
      transition: background-color 200ms ease;
    }

    @media screen and (width <= $media-tablet) {
      display: flex;
    }
  }
</style>
